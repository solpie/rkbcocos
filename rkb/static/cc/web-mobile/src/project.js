window.__require=function t(e,o,r){function n(i,_){if(!o[i]){if(!e[i]){var a=i.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!_&&s)return s(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+i+"'")}}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return n(e[i][1][t]||t)},l,l.exports,t,e,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({"3v3":[function(t,e,o){"use strict";cc._RF.push(e,"a4e50/jPhVJ66kPSFKEmpEg","3v3");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../com/timer"),i=t("../../__c"),_=t("../../api"),a=t("../../web"),s=cc._decorator,l=s.ccclass;s.property;function p(){return window.game3v3}var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameTimer=new c.Timer,e.isLoadOP=!1,e.delay=0,e.foulToFT=5,e}return r(e,t),e.prototype.onLoad=function(){this.id=(new Date).getTime().toString(),this.gameTimer.initTimer(this,"txt_timer")},e.prototype.addOp=function(){var t=this;this.isLoadOP||cc.loader.loadRes("prefab/op_3v3",cc.Prefab,function(e,o){var r=cc.instantiate(o);cc.director.getScene().addChild(r),t.isLoadOP=!0})},e.prototype.start=function(){this.setScore({lScore:0,rScore:0}),this.setFoul_L(0),this.setFoul_R(0),this.gameTimer.resetTimer(),i.setText("txt_team_L",""),i.setText("txt_team_R",""),this.gameTimer.isMin=!0,this.initWS(),_c_.emit(i.ccType.Node,{name:"bg2_4v4",active:!1}),this.set4v4Icon({is4v4:!0})},e.prototype.test=function(){a.loadImg64("player_info_avt","http://rtmp.icassi.us:8092/img/player/0323/p1.png")},e.prototype.setFoul_L=function(t,e){p().lFoul=Number(t),i.setText("txt_foul_L",t)},e.prototype.setFoul_R=function(t,e){p().rFoul=Number(t),i.setText("txt_foul_R",t)},e.prototype.setScore=function(t){var e=p();e.lScore=Number(t.lScore),e.rScore=Number(t.rScore),i.setText("txt_score_L",t.lScore),i.setText("txt_score_R",t.rScore)},e.prototype.set4v4Icon=function(t){_c_.emit(i.ccType.Node,{name:"bg2_4v4",active:t.is4v4}),_c_.emit(i.ccType.Node,{name:"bg2_1v1",active:!t.is4v4})},e.prototype.get_basescore=function(t){var e=t;this.setScore({lScore:e.score_L,rScore:e.score_R}),this.setFoul_L(e.foul_L),this.setFoul_R(e.foul_R),this.set_player(e);var o=e.timer_state;if(o.search("start")>-1)this.gameTimer.startTimer();else if(o.search("pause")>-1)this.gameTimer.pauseTimer();else if(o.search("setting")>-1){var r=o.replace("setting","");this.timestamp!=r&&(this.timestamp=r,this.gameTimer.setTimeBySec(e.timer_param))}},e.prototype.set_player=function(t){i.setText("txt_team_L",t.player_L),i.setText("txt_team_R",t.player_R)},e.prototype.initWS=function(){var t=this,e=a.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(_.WSEvent.sc_update_basescore,function(e){cc.log("sc_update_basescore",e),t.get_basescore(e)}).on(_.WSEvent.sc_timerEvent,function(e){cc.log("sc_timerEvent",e),t.gameTimer.setTimerEvent(e)}).on(_.WSEvent.sc_setFoul,function(e){cc.log("sc_setFoul",e),t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul)}).on(_.WSEvent.sc_set_player,function(e){cc.log("sc_setPlayer",e),t.set_player(e)}).on(_.WSEvent.sc_updateScore,function(e){cc.log("sc_updateScore",e),t.delay>0&&window.isDelay?setTimeout(function(){t.setScore(e)},t.delay):t.setScore(e)}).on(_.WSEvent.sc_updateFoul,function(e){cc.log("sc_updateFoul",e),t.delay>0&&window.isDelay?setTimeout(function(){t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul)},t.delay):(t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul))}).on(_.WSEvent.sc_set_4v4_icon,function(e){cc.log("sc_set_4v4_icon",e),t.set4v4Icon(e)}).on(_.WSEvent.sc_set_delay,function(e){cc.log("sc_set_delay",e),e.delay>=0&&(t.delay=1e3*e.delay)}).on(_.WSEvent.sc_sync_game,function(e){cc.log("sc_sync_game",e),e.id,t.id})},e=n([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../com/timer":"timer","../../web":"web"}],BBR_player_bar:[function(t,e,o){"use strict";cc._RF.push(e,"a5b674I4ZFG26kh4w7n9tCm","BBR_player_bar");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../__c"),i=cc._decorator,_=i.ccclass,a=i.property;o.EVENT_PLAYER_BAR_4V4="EVENT_PLAYER_BAR_4V4";var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idx="",e.initBlood=4,e.bloodBarInitX=0,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.setNodeLabel("txt_player_name","");var e=cc.find("bar_mask/black_mask",this.node);console.log("4v4_player_bar",e),this.bloodBar=e,this.bloodBar.x=this.bloodBarInitX-359*(1-0/this.initBlood),_c_.on(o.EVENT_PLAYER_BAR_4V4,function(e){var o=e[t.idx];o&&(o.blood<0&&(o.blood=0),t.bloodBar.x=t.bloodBarInitX+o.blood/o.init_blood*359,t.setNodeLabel("txt_player_name",o.name),t.setSPbyUrl("avt",o.avatar),t.setNodeLabel("txt_player_blood",o.blood||0))})},e.prototype.test=function(){_c_.emit(o.EVENT_PLAYER_BAR_4V4,{R1:{blood:3,init_blood:6,name:"1",avatar:""}}),_c_.emit(o.EVENT_PLAYER_BAR_4V4,{L1:{blood:3,init_blood:6,name:"1",avatar:""}})},n([a],e.prototype,"idx",void 0),e=n([_],e)}(c.InjectCls);o.default=s,cc._RF.pop()},{"../../__c":"__c"}],JsFunc:[function(t,e,o){"use strict";cc._RF.push(e,"53647ot8ylLHbVShzWNcLoS","JsFunc"),Object.defineProperty(o,"__esModule",{value:!0}),o.formatSecond=function(t,e,o,r){void 0===e&&(e=!1),void 0===o&&(o=":"),void 0===r&&(r="");var n=Math.floor(t/60),c=t%60,i=n+"",_=c+"";return n<10&&(i="0"+i),c<10&&(_="0"+_),e?_:i+o+_+r},cc._RF.pop()},{}],SideBloodView:[function(t,e,o){"use strict";cc._RF.push(e,"03ae3V+EBZE/JDgX9LmZLsX","SideBloodView"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../web"),n=function(){function t(){this.side_row_map={}}return t.prototype.add_side_row=function(t,e,o){this.side_row_map[t]=e,cc.log("add side row",t),this.set_name_L(e,""),this.set_name_R(e,""),this.set_blood_L(e,8,9),this.set_blood_R(e,8,9),e.idx=o,this.fade_out()},t.prototype.show=function(t){t.visible?this.fade_in():this.fade_out()},t.prototype.fade_out=function(){for(var t=function(t,e){setTimeout(function(e){t.parent.getComponent(cc.Animation).play("side_blood_out")},250*e)},e=0;e<5;e++){var o=this.side_row_map["side_blood_"+(e+1)];if(o)t(o,o.idx)}},t.prototype.fade_in=function(){for(var t=function(t,e){setTimeout(function(e){t.parent.getComponent(cc.Animation).play("side_blood_in")},250*e)},e=0;e<5;e++){var o=this.side_row_map["side_blood_"+(e+1)];if(o)t(o,o.idx)}},t.prototype.set_avt_L=function(t,e){var o=t.getChildByName("avt_L").getComponent(cc.Sprite);r.loadImg64ByNode(o,e)},t.prototype.set_avt_R=function(t,e){var o=t.getChildByName("avt_R").getComponent(cc.Sprite);r.loadImg64ByNode(o,e)},t.prototype.set_name_L=function(t,e){t.getChildByName("name_L").getComponent(cc.Label).string=e},t.prototype.set_name_R=function(t,e){t.getChildByName("name_R").getComponent(cc.Label).string=e},t.prototype.set_blood_L=function(t,e,o){t.getChildByName("blood_L").getComponent(cc.Label).string=e,t.getChildByName("mask").getChildByName("bar_L").x=-781-197*(1-e/o)},t.prototype.set_blood_R=function(t,e,o){t.getChildByName("blood_R").getComponent(cc.Label).string=e,t.getChildByName("mask").getChildByName("bar_R").x=781+197*(1-e/o)},t.prototype.set_vs_player=function(t){for(var e=0,o=t.lTeam;e<o.length;e++){var r=o[e],n=this.find_side_blood_by_player_id(r.player_id);this.set_blood_L(n,r.blood,r.init_blood)}for(var c=0,i=t.rTeam;c<i.length;c++){r=i[c],n=this.find_side_blood_by_player_id(r.player_id);this.set_blood_R(n,r.blood,r.init_blood)}},t.prototype.find_side_blood_by_player_id=function(t){for(var e=0;e<5;e++){var o=this.side_row_map["side_blood_"+(e+1)];if(o.player_id_L==t)return o;if(o.player_id_R==t)return o}},t.prototype.set_player=function(t){for(var e=t.lTeam,o=t.rTeam,r=0;r<5;r++){var n=e[r],c=o[r],i=this.side_row_map["side_blood_"+(r+1)];n?(i.active=!0,this.set_name_L(i,n.name),this.set_name_R(i,c.name),i.player_id_L=n.player_id,i.player_id_R=c.player_id,this.set_blood_L(i,n.blood,n.init_blood),this.set_blood_R(i,c.blood,c.init_blood),this.set_avt_L(i,n.avatar),this.set_avt_R(i,c.avatar)):i.active=!1}},t}();o.SideBloodView=n,cc._RF.pop()},{"../../../web":"web"}],SidePlayerView:[function(t,e,o){"use strict";cc._RF.push(e,"d5e00Fg+nBEvZ5s2WwdzWoj","SidePlayerView");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../web"),i=t("../../../api"),_=cc._decorator,a=_.ccclass,s=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.row_arr=[],e.player_label_arr_L=[],e.player_label_arr_R=[],e.player_label_arr=[],e.avt_sprite_arr=[],e.url_base="",e.player_id_arr=[],e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.fade_in=function(){for(var t=function(t,e){setTimeout(function(e){t.getComponent(cc.Animation).play("side_player_in")},250*e)},e=0;e<8;e++){var o=this.row_arr[e];o&&t(o,e)}},e.prototype.fade_out=function(){for(var t=function(t,e){setTimeout(function(e){t.getComponent(cc.Animation).play("side_blood_out")},250*e)},e=0;e<8;e++){var o=this.row_arr[e];o&&t(o,e)}},e.prototype.start=function(){for(var t=this,e=[],o=[],r=0;r<8;r++){var n="anim_"+(r+1),i="side_player_"+(r+1),_=this.node.getChildByName(n);this.row_arr.push(_);var a=_.getChildByName(i),s=a.getChildByName("name_L").getComponent(cc.Label);this.player_label_arr_L.push(s);var l=a.getChildByName("name_R").getComponent(cc.Label);this.player_label_arr_R.push(l),e.push(a.getChildByName("avt_L").getComponent(cc.Sprite)),o.push(a.getChildByName("avt_R").getComponent(cc.Sprite)),cc.log("side_player_",a)}this.avt_sprite_arr=e.concat(o),this.player_label_arr=this.player_label_arr_L.concat(this.player_label_arr_R),c.get_champion_rank_rec(function(e){cc.log("get_champion_rank_rec",e);for(var o=e[0].doc.rec,r=0;r<8;r++){var n=o[r+1];t.player_label_arr[2*r].string=n.name[0],t.player_label_arr[2*r+1].string=n.name[1],t.player_id_arr.push(n.player[0]),t.player_id_arr.push(n.player[1])}for(r=0;r<t.player_id_arr.length;r++){var c=t.player_id_arr[r];t.load_avt(t.avt_sprite_arr[r],c)}}),this.initWS()},e.prototype.load_avt=function(t,e){c.get_player(e,function(e){var o=e[0].avatar;cc.log("load avt",o),c.loadImg64ByNode(t,e[0].avatar)})},e.prototype.initWS=function(){var t=this,e=c.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(i.WSEvent.sc_show_side_player,function(e){e.visible?t.fade_in():t.fade_out()})},e=n([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../../api":"api","../../../web":"web"}],__clip:[function(t,e,o){"use strict";cc._RF.push(e,"45636nxzW9CbZJzzJEKtkem","__clip");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.ccclass,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.getComponent(cc.Animation).play("player_dot"),cc.log("on start")},e=n([c],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],__c:[function(t,e,o){"use strict";cc._RF.push(e,"f631evoBMdDiK7w/lLKMsw9","__c");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./web"),i=cc._decorator,_=i.ccclass,a=i.property;o.injectCls=function(t){t.setNodeLabel=function(t,e){console.log(this);var o=this.getChildByName(t);o&&(o.getComponent(cc.Label).string=e)}};var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.regist_this_node=function(){_c_.node_list||(_c_.node_list={}),_c_.node_list[this.node.name]||(_c_.node_list[this.node.name]=this)},e.prototype.getNode=function(t){return this.node.getChildByName(t)},e.prototype.setNodeLabel=function(t,e){var o=this.node.getChildByName(t);o&&(o.getComponent(cc.Label).string=e)},e.prototype.setSPbyUrl=function(t,e){var o=this;c.loadImg64_InjectCls(e,function(e){var r=o.node.getChildByName(t);r&&l(r.getComponent(cc.Sprite),e)})},e}(cc.Component);function l(t,e){var o=new Image;o.src=e;var r=new cc.Texture2D;r.initWithElement(o),r.handleLoadedTexture();var n=new cc.SpriteFrame(r);t.spriteFrame=n}o.InjectCls=s,o.setText=function(t,e){_c_.emit(o.ccType.Label,{name:t,string:e})},o.ccType={Sprite:"Sprite",Label:"Label",Animation:"Animation",ProgressBar:"ProgressBar",Node:"Node"};var p={Sprite:cc.Sprite,Label:cc.Label,Animation:cc.Animation,ProgressBar:cc.ProgressBar,Node:cc.Node},u=["x","y","opacity","callback","active"];o.getNode=function(t,e){_c_.emit(o.ccType.Node,{name:t,callback:e})};var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cc_type="",e}return r(e,t),e.prototype.onLoad=function(){var t=this;if(this.cc_type)this.cls=this.cc_type;else for(var e in p){var r=p[e],n=this.node._components[0];if(n instanceof r){this.comp=n,this.cls=e;break}}this.cls==o.ccType.Node?this._name=this.node.name:this._name=this.node.getComponent(p[this.cls]).node.name;var c=function(e,o){t.cls==e&&_c_.on(e,function(e){e.name==t._name&&o(e)})};c(o.ccType.Node,function(e){for(var o=0,r=["x","y","opacity","callback","active"];o<r.length;o++){var n=r[o];null!=e[n]&&("callback"==n?e[n](t.node):t.node[n]=e[n])}}),c(o.ccType.Sprite,function(e){var o=t.comp;e.img64&&l(o,e.img64);cc.log("handle sprite",t._name,e.x);for(var r=0,n=["x","y","opacity","callback","active"];r<n.length;r++){var c=n[r];null!=e[c]&&("callback"==c?e[c](t.node):t.node[c]=e[c])}}),c(o.ccType.Label,function(e){var o=t.comp;for(var r in e)"name"!=r&&null!=o[r]&&(o[r]=e[r]);t.oneCompNode(e)}),c(o.ccType.Animation,function(e){var o=t.comp;e.play&&o.play(e.play)}),c(o.ccType.ProgressBar,function(e){var o=t.comp;if(null!=e.progress){o.progress=e.progress;for(var r=0;r<e.callbackMap.length;r++){var n=e.callbackMap[r],c=n[0];if(o.progress>=c){n[1](t.node);break}}}})},e.prototype.oneCompNode=function(t){for(var e=0,o=u;e<o.length;e++){var r=o[e];null!=t[r]&&("callback"==r?t[r](this.node):this.node[r]=t[r])}},n([a],e.prototype,"cc_type",void 0),e=n([_],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./web":"web"}],api:[function(t,e,o){"use strict";for(var r in cc._RF.push(e,"97b19fYMMNLcJlnoH9VSXld","api"),Object.defineProperty(o,"__esModule",{value:!0}),o.WSEvent={sc_ww3_team_score:"",sc_teamScore:"",sc_update_basescore:"",sc_timerEvent:"",cs_timerEvent:"",sc_setFoul:"",cs_setFoul:"",sc_setBlood:"",sc_updateScore:"",cs_updateScore:"",sc_updateFoul:"",sc_set_4v4_icon:"",sc_set_4v4_delay:"",cs_setBlood:"",sc_setPlayer:"",sc_timeOut:"",sc_manual_blood:"",sc_setTeam:"",sc_set_player:"",sc_setPlayerDot:"",sc_showWW3PlayerInfo:"",sc_show_side_blood:"",sc_start_ww3_game:"",cs_start_ww3_game:"",sc_bracket:"",sc_sync_game:"",cs_sync_game:"",sc_rec:"",sc_set_delay:"",sc_show_side_player:""},o.WSEvent)o.WSEvent[r]=r;cc._RF.pop()},{}],benxi:[function(t,e,o){"use strict";cc._RF.push(e,"3a1c8JwGQBHCJ/3YYINut++","benxi");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../com/timer"),i=t("../../__c"),_=t("../../web"),a=t("../../api"),s=cc._decorator,l=s.ccclass;s.property;o._nm_={txt_team_score:"txt_team_score",txt_team_left:"txt_team_left",txt_team_right:"txt_team_right",txt_player_L:"txt_player_L",txt_player_R:"txt_player_R",txt_score_L:"txt_score_L",txt_score_R:"txt_score_R",txt_foul_L:"txt_foul_L",txt_foul_R:"txt_foul_R",sp_avt_L:"avt_L",sp_avt_R:"avt_R"};var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameTimer=new c.Timer,e}return r(e,t),e.prototype.onLoad=function(){this.gameTimer.initTimer(this,"txt_timer")},e.prototype.start=function(){this.gameTimer.isMin=!1,this.gameTimer.resetTimer(),this.initWS(),this.set_foul({lFoul:0,rFoul:0}),i.setText(o._nm_.txt_score_L,0),i.setText(o._nm_.txt_score_R,0),this.set_player({player_L:"",player_R:""})},e.prototype.set_foul=function(t){i.setText(o._nm_.txt_foul_L,t.lFoul),i.setText(o._nm_.txt_foul_R,t.rFoul)},e.prototype.set_blood=function(t){for(var e=t.vsPlayerArr[0],r=t.vsPlayerArr[1],n=0,c=t.lTeam;n<c.length;n++){(s=c[n]).player_id==e&&i.setText(o._nm_.txt_score_L,s.blood)}for(var _=0,a=t.rTeam;_<a.length;_++){var s;(s=a[_]).player_id==r&&i.setText(o._nm_.txt_score_R,s.blood)}},e.prototype.set_player=function(t){i.setText(o._nm_.txt_player_L,t.player_L),i.setText(o._nm_.txt_player_R,t.player_R)},e.prototype.initWS=function(){var t=this,e=_.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(a.WSEvent.sc_setFoul,function(e){cc.log("sc_setFoul",e),t.set_foul(e)}).on(a.WSEvent.sc_manual_blood,function(e){cc.log("sc_manual_blood",e),t.set_blood(e)}).on(a.WSEvent.sc_setPlayer,function(e){cc.log("sc_setPlayer",e),t.set_player({player_L:e.leftPlayer.name,player_R:e.rightPlayer.name}),i.setText(o._nm_.txt_score_L,e.leftPlayer.blood),i.setText(o._nm_.txt_score_R,e.rightPlayer.blood),t.set_foul({lFoul:0,rFoul:0})}).on(a.WSEvent.sc_timerEvent,function(e){cc.log("sc_timerEvent",e),t.gameTimer.setTimerEvent(e)})},e=n([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../com/timer":"timer","../../web":"web"}],big_blood_rock:[function(t,e,o){"use strict";cc._RF.push(e,"d0d2e5oYURKzKGZdxvqXN37","big_blood_rock");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../api"),i=t("../../web"),_=t("../../__c"),a=t("./BBR_player_bar"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeout_dot_L=[],e.timeout_dot_R=[],e.player_id_L="",e.player_id_R="",e}return r(e,t),e.prototype.onLoad=function(){cc.log("BigBloodRock on loaded")},e.prototype.start=function(){_.getNode("4v4",function(t){cc.log("4v4 node",t)}),_.setText("txt_player_name_L",""),_.setText("txt_player_name_R","");for(var t=0;t<2;t++){var e=cc.find("4v4/timeout/L"+(t+1),this.node);e&&this.timeout_dot_L.push(e),(e=cc.find("4v4/timeout/R"+(t+1),this.node))&&this.timeout_dot_R.push(e)}this.initWS()},e.prototype.initWS=function(){var t=this,e=i.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(c.WSEvent.sc_setPlayer,function(e){t.set_timeout(e),cc.log("sc_setPlayer",e),e.isRestFoul&&(_.setText("txt_player_foul_L",0),_.setText("txt_player_foul_R",0));var o=e.leftPlayer,r=e.rightPlayer;t.player_id_L=o.player_id,t.player_id_R=r.player_id,_.setText("txt_player_name_L",o.name),_.setText("txt_player_name_R",r.name),_.setText("txt_player_blood_L",o.blood),_.setText("txt_player_blood_R",r.blood),i.loadImg64("avt_L",o.avatar),i.loadImg64("avt_R",r.avatar);for(var n=e.lTeam,c={},s=5==n.length,l=0,p=0,u=0;u<n.length;u++){var f=(h=n[u]).player_id;s&&f==o.player_id||(c["L"+(l+1)]=h,l++)}_c_.emit(a.EVENT_PLAYER_BAR_4V4,c),t.leftTeamMap=c;var d=e.rTeam,y={};for(u=0;u<d.length;u++){var h;f=(h=d[u]).player_id;s&&f==r.player_id||(y["R"+(p+1)]=h,p++)}t.rightTeamMap=y,_c_.emit(a.EVENT_PLAYER_BAR_4V4,y)}).on(c.WSEvent.sc_timeOut,function(e){cc.log("sc_timeOut",e),t.set_timeout(e)}).on(c.WSEvent.sc_setFoul,function(t){_.setText("txt_player_foul_L",t.lFoul),_.setText("txt_player_foul_R",t.rFoul)}).on(c.WSEvent.sc_manual_blood,function(e){cc.log("sc_manual_blood",e),_.setText("txt_player_blood_L",""),_.setText("txt_player_blood_R","");for(var o=0,r=e.lTeam;o<r.length;o++){var n=r[o];(s=t.findPlayerOnBar(n.player_id))&&(s.blood=n.blood),n.player_id==e.vsPlayerArr[0]&&_.setText("txt_player_blood_L",n.blood)}for(var c=0,i=e.rTeam;c<i.length;c++){var s;n=i[c];(s=t.findPlayerOnBar(n.player_id))&&(s.blood=n.blood),n.player_id==e.vsPlayerArr[1]&&_.setText("txt_player_blood_R",n.blood)}_c_.emit(a.EVENT_PLAYER_BAR_4V4,t.leftTeamMap),_c_.emit(a.EVENT_PLAYER_BAR_4V4,t.rightTeamMap)})},e.prototype.set_timeout=function(t){var e=Number(t.timeout_L),o=Number(t.timeout_R);_.getNode("timeout_mask_L1",function(t){t.active=e<2}),_.getNode("timeout_mask_L2",function(t){t.active=e<1}),_.getNode("timeout_mask_R1",function(t){t.active=o<2}),_.getNode("timeout_mask_R2",function(t){t.active=o<1});for(var r=0;r<this.timeout_dot_L.length;r++){var n=this.timeout_dot_L[r];n.active=r<e,(n=this.timeout_dot_R[r]).active=r<o}},e.prototype.findPlayerOnBar=function(t){for(var e in this.leftTeamMap){if(t==(o=this.leftTeamMap[e]).playerId)return o}for(var e in this.rightTeamMap){var o;if(t==(o=this.rightTeamMap[e]).playerId)return o}},e=n([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../web":"web","./BBR_player_bar":"BBR_player_bar"}],big_score:[function(t,e,o){"use strict";cc._RF.push(e,"9e8872cGi9OiJ7moQlrmI1A","big_score");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../web"),i=t("../../__c"),_=cc._decorator.ccclass,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player_id_L="",e.player_id_R="",e}return r(e,t),e.prototype.start=function(){var t=this;i.setText("txt_player_L",""),i.setText("txt_player_R",""),this.setScore({score_L:0,score_R:0}),this.setFoul({foul_L:0,foul_R:0}),setInterval(function(e){t.sync_doc()},1e3)},e.prototype.sync_doc=function(){var t=this;axios.get("http://rtmp.icassi.us:8090/basescore?idx=rank16").then(function(e){var o=e.data[0];t.setScore(o),t.setFoul(o),i.setText("txt_player_L",o.player_L),i.setText("txt_player_R",o.player_R),c.loadImg64("avt_L",o.avatar_L),c.loadImg64("avt_R",o.avatar_R),console.log(o)})},e.prototype.setScore=function(t){i.setText("txt_score_L",t.score_L),i.setText("txt_score_R",t.score_R)},e.prototype.setFoul=function(t){i.setText("txt_foul_L",t.foul_L),i.setText("txt_foul_R",t.foul_R)},e=n([_],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../../__c":"__c","../../web":"web"}],bloodBar:[function(t,e,o){"use strict";cc._RF.push(e,"e76bfaGNZZHOKmqElYwya+a","bloodBar"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("./worldwar3"),n=t("../../__c"),c=t("../../com/gameConf"),i=function(){function t(t){this._tmpBlood=-1,this._curBlood=-1,this._fx_offs=null,this._fx_cd=1500,this._fx_cd_timer=null,this.cur_fx_offs=-1,this._isR=t,this._bloodTxt=t?r._nm_.txt_blood_R:r._nm_.txt_blood_L,this._bloodCursor=t?"blood_bar_cursor_R":"blood_bar_cursor_L",this._bloodFx=t?"blood_bar_black_R":"blood_bar_black_L"}return t.prototype.setBlood=function(t){this.initBlood=t;var e=this._setBlood(t);this.bloodNoTween(e)},t.prototype.reset=function(){cc.log("reset maxBlood",c.confWW3.maxBlood),this.setBlood(c.confWW3.maxBlood)},t.prototype._calcOffs=function(t){var e=this._isR?-1:1,o=(this._bloodCursor,1-t/c.confWW3.maxBlood);return n.setText(this._bloodTxt,t),(-495- -395*o)*e},t.prototype._setBlood=function(t){var e=this._isR?-1:1,o=this._bloodCursor,r=1-t/c.confWW3.maxBlood;n.setText(this._bloodTxt,t);var i=(-495- -395*r)*e;return _c_.emit(n.ccType.Sprite,{name:o,callback:function(t){cc.tween(t).to(.1,{x:i}).start()}}),i},t.prototype.bloodTween=function(t){cc.log("play blood fx...",this._fx_offs),this.cur_fx_offs=this._fx_offs,cc.tween(t).to(.3,{x:this._fx_offs}).start()},t.prototype.bloodNoTween=function(t){_c_.emit(n.ccType.Sprite,{name:this._bloodFx,x:t})},t.prototype.setBloodByCurBlood=function(t){var e=this,o=this._curBlood-t;this._curBlood=t;var r,c=this._setBlood(t);if(null!=this._fx_offs&&(r=this._isR?c>this._fx_offs:c<this._fx_offs)&&cc.log("\u52a0\u8840"),this._fx_offs=c,r)this.bloodNoTween(c);else if(o>=0){this._tmpBlood<0&&(this._tmpBlood=t);if(this._fx_cd_timer)this._fx_cd=800;else{this._fx_cd=800;new cc.Scheduler;this._fx_cd_timer=setInterval(function(){e._fx_cd-=10,e._fx_cd<=0&&(_c_.emit(n.ccType.Sprite,{name:e._bloodFx,callback:function(t){e.bloodTween(t)}}),clearInterval(e._fx_cd_timer),e._fx_cd_timer=null)},10)}}return t},t.prototype.setBloodByDtScore=function(t){var e=this,o=this.initBlood-t;this._curBlood=o;var r,c=this._setBlood(o);if(null!=this._fx_offs&&(r=this._isR?c>this._fx_offs:c<this._fx_offs)&&cc.log("\u52a0\u8840"),this._fx_offs=c,r)this.bloodNoTween(c);else if(t>=0){this._tmpBlood<0&&(this._tmpBlood=o);if(this._fx_cd_timer)this._fx_cd=800;else{this._fx_cd=800;new cc.Scheduler;this._fx_cd_timer=setInterval(function(){e._fx_cd-=10,e._fx_cd<=0&&(_c_.emit(n.ccType.Sprite,{name:e._bloodFx,callback:function(t){e.bloodTween(t)}}),clearInterval(e._fx_cd_timer),e._fx_cd_timer=null)},10)}}return o},t}();o.BloodBar=i,cc._RF.pop()},{"../../__c":"__c","../../com/gameConf":"gameConf","./worldwar3":"worldwar3"}],bottom_blood1:[function(t,e,o){"use strict";cc._RF.push(e,"f55eds7IKNNEpdJ0fDz9Pzu","bottom_blood1");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,_=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){cc.find("player_bblood");cc.log("")},e=n([i],e)}(cc.Component));o.default=_,cc._RF.pop()},{}],bracket_16_group:[function(t,e,o){"use strict";cc._RF.push(e,"948a81L9spEsZqhqsVsFQgZ","bracket_16_group");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../__c"),i=cc._decorator.ccclass,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.setNodeLabel("txt_team_1_1",""),this.setNodeLabel("txt_team_1_2","")},e=n([i],e)}(c.InjectCls);o.default=_,cc._RF.pop()},{"../../__c":"__c"}],bracket_16:[function(t,e,o){"use strict";cc._RF.push(e,"dd4f5qvS0dPJ7bhfPt0Ur+e","bracket_16");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../web"),i=t("../../api"),_=cc._decorator,a=_.ccclass,s=(_.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},e.prototype.initWS=function(){var t=c.getWsUrl();io(t).on("connect",function(t){cc.log("socketio.....localWS")}).on(i.WSEvent.sc_bracket,function(t){cc.log("sc_bracket",t);for(var e=0;e<(void 0).length;e++)(void 0)[e]})},e=n([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../api":"api","../../web":"web"}],ccVue:[function(t,e,o){"use strict";cc._RF.push(e,"3eb71mYQfVJZ5DbDdpk7NxY","ccVue"),Object.defineProperty(o,"__esModule",{value:!0}),o.getAppDiv=function(){var t=document.getElementById("app");if(!t){var e=document.body,o=document.createElement("div");return o.id="app",o.setAttribute("style","width:1920px;height:1080px;position:absolute;"),e.appendChild(o),o}return t},cc._RF.pop()},{}],gameConf:[function(t,e,o){"use strict";cc._RF.push(e,"3eeb9PEih9PIIq9IUu+ccOZ","gameConf"),Object.defineProperty(o,"__esModule",{value:!0}),o.confWW3={maxBlood:10,foulToHint:3,time:1200},cc._RF.pop()},{}],group_list_group0:[function(t,e,o){"use strict";cc._RF.push(e,"8d2d48X6wxKkoy6SAmSwaaT","group_list_group0");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../__c"),i=cc._decorator,_=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.regist_this_node()},e.prototype.start=function(){this.setData({lScore:0,rScore:0,player:["",""],gameIdx:-1})},e.prototype.setData=function(t){cc.log("row set data",t);Number(t.lScore),Number(t.rScore);t.gameIdx,this.setNodeLabel("txt_player_L",t.player[0]),this.setNodeLabel("txt_player_R",t.player[1])},e=n([_],e)}(c.InjectCls));o.default=a,cc._RF.pop()},{"../../__c":"__c"}],group_list_row:[function(t,e,o){"use strict";cc._RF.push(e,"88f47F5N/NCWa8cblVWuUtm","group_list_row");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../__c"),i=cc._decorator,_=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.regist_this_node()},e.prototype.init_row2=function(){if("row2_2"==this.node.name||"row2_4"==this.node.name){var t=this.getNode("txt_score_L"),e=this.getNode("txt_score_R");t.x=e.x=-539}},e.prototype.start=function(){this.init_row2(),this.setData({lScore:0,rScore:0,lPlayer:"",rPlayer:"",gameIdx:-1})},e.prototype.setData=function(t){cc.log("row set data",t);var e=Number(t.lScore),o=Number(t.rScore),r="";t.gameIdx<0||(r=String.fromCharCode(Number(t.gameIdx)+64)),this.setNodeLabel("txt_idx",r),this.setNodeLabel("txt_score_L",e),this.setNodeLabel("txt_score_R",o);var n=this.getNode("win_L"),c=this.getNode("win_R");n&&(0!=e||0!=o?(e>o&&(n.active=!0),c.active=!n.active):(n.active=!1,c.active=!1)),this.setNodeLabel("txt_player_L",t.lPlayer),this.setNodeLabel("txt_player_R",t.rPlayer)},e=n([_],e)}(c.InjectCls));o.default=a,cc._RF.pop()},{"../../__c":"__c"}],group_list:[function(t,e,o){"use strict";cc._RF.push(e,"fa3a315PGtPA4mC5K4KXc7c","group_list");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../api"),i=t("../../web"),_=t("../../__c"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.initWS(),_.setText("txt_winner_1",""),_.setText("txt_winner_2",""),_.setText("txt_winner_3",""),_.setText("txt_winner_4",""),_.setText("txt_winner_7",""),_.getNode("final_group",function(t){t.active=!1})},e.prototype.initWS=function(){var t=i.getWsUrl();io(t).on("connect",function(t){cc.log("socketio.....localWS")}).on(c.WSEvent.sc_rec,function(t){cc.log("sc_group_list",t);var e,o=[];_.getNode("final_group",function(e){e.active=t.is_final});for(var r=0;r<15;r++){(e=t.rec_arr[r])||(e={player:["",""]}),o.push(e),_c_.node_list["group0_"+(r+1)].setData(e)}})},e=n([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../web":"web"}],group_power:[function(t,e,o){"use strict";cc._RF.push(e,"8f03bQCF2lBypASYAdvTNtj","group_power");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../web"),i=t("../../api"),_=t("../../__c"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;_.injectCls(this.node),c.getWs().on("connect",function(t){cc.log("socketio.....localWS")}).on(i.WSEvent.sc_rec,function(e){for(var o=0;o<7;o++){var r=e.rec_arr[o],n=t.gp_list[o];n.setNodeLabel("txt_player_L",r.lPlayer),n.setNodeLabel("txt_player_R",r.rPlayer);var c=r.lScore,i=r.rScore;6==o&&(0!=c||0!=i?c>i?t.node.setNodeLabel("txt_winner_"+(o+1),r.lPlayer):t.node.setNodeLabel("txt_winner_"+(o+1),r.rPlayer):t.node.setNodeLabel("txt_winner_"+(o+1),""))}}),this.gp_list=[];for(var e=0;e<7;e++){var o=this.node.getChildByName("gp_"+(e+1));_.injectCls(o),this.gp_list.push(o)}},e=n([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../web":"web"}],group:[function(t,e,o){"use strict";cc._RF.push(e,"47c1ea0L09EY5ZcCKKUkd8p","group");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../__c"),i=t("../../web"),_=cc._decorator,a=_.ccclass,s=_.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.row1=null,e.row2=null,e.row3=null,e.row4=null,e}return r(e,t),e.prototype.start=function(){this.rank_pos={},this.row_arr=[this.row1,this.row2,this.row3,this.row4],this.rank_pos[1]=this.row1.y,this.rank_pos[2]=this.row2.y,this.rank_pos[3]=this.row3.y,this.rank_pos[4]=this.row4.y,this.row1.idx=1,this.row2.idx=2,this.row3.idx=3,this.row4.idx=4,this.initWS()},e.prototype.setRowNodeLabel=function(t,e,o){var r=t.getChildByName(e);r&&(r.getComponent(cc.Label).string=o)},e.prototype.getTeamName=function(t){var e=t.getChildByName("txt_player_name_L");return e?e.getComponent(cc.Label).string:""},e.prototype.initWS=function(){var t=this,e=i.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on("sc_game4v4rec",function(e){cc.log("sc_game4v4rec",e);for(var o=0,r=e.game4v4rec;o<r.length;o++)for(var n=r[o],c=0,i=t.row_arr;c<i.length;c++){var _=i[c];t.getTeamName(_)==n.name&&(t.setRowNodeLabel(_,"txt_win_count",n.win),t.setRowNodeLabel(_,"txt_lose_count",n.lose),t.setRowNodeLabel(_,"txt_score",n.score),t.setRowNodeLabel(_,"txt_total_score",n.total_score),-1!=Number(n.rank)&&(_.y=t.rank_pos[n.rank]))}})},n([s(cc.Node)],e.prototype,"row1",void 0),n([s(cc.Node)],e.prototype,"row2",void 0),n([s(cc.Node)],e.prototype,"row3",void 0),n([s(cc.Node)],e.prototype,"row4",void 0),e=n([a],e)}(c.InjectCls);o.default=l,cc._RF.pop()},{"../../__c":"__c","../../web":"web"}],labelShadow:[function(t,e,o){"use strict";cc._RF.push(e,"645a98RIXlFqLN3zHaeY4WF","labelShadow");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,_=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){this.node.getComponent(cc.Label)},e.prototype.update=function(){this.label.string=this.text},n([_(cc.Label)],e.prototype,"label",void 0),n([_],e.prototype,"text",void 0),e=n([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],main:[function(t,e,o){"use strict";cc._RF.push(e,"120adAfDgdOtZPy4v1kF4CF","main");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,_=(c.property,{ww3:"worldwar3",bblood:"big_blood_rock",bscore:"big_score",rank0:"rank0","3v3":"3v3",group:"group",group8:"group_list",bracket32:"group_list",group_power:"group_power",bracket16:"bracket_16",benxi:"benxi",benxi_bblood:"big_blood_benxi",side_player:"side_player"});window._c_=new cc.Node("_c_"),window.isOP=!1;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=new URLSearchParams(window.location.search),e=t.get("panel");if(window.isOP="1"==t.get("op"),window.isDelay="1"==t.get("delay"),e){for(var o in _)if(e==o){var r=_[o];cc.director.loadScene(r)}}else 0},e.prototype.start=function(){},e=n([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],op_3v3:[function(t,e,o){"use strict";cc._RF.push(e,"2e1841L5L9FJbhbEpEKqR3E","op_3v3");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../web"),i=t("../../api"),_=new(t("../ww3/ww3_op").BaseGame);window.game3v3=_;var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.addScore=function(t,e){t?_.lScore+=e:_.rScore+=e,_.lScore<0&&(_.lScore=0),_.rScore<0&&(_.rScore=0),c.opReq(i.WSEvent.cs_updateScore,_)},e.prototype.addFoul=function(t,e){t?_.lFoul+=e:_.rFoul+=e,_.lFoul<0&&(_.lFoul=0),_.rFoul<0&&(_.rFoul=0),c.opReq(i.WSEvent.cs_setFoul,_)},e.prototype.op_add_score_L=function(){this.addScore(!0,1)},e.prototype.op_add_score_R=function(){this.addScore(!1,1)},e.prototype.op_min_score_L=function(){this.addScore(!0,-1)},e.prototype.op_min_score_R=function(){this.addScore(!1,-1)},e.prototype.op_add_foul_L=function(){this.addFoul(!0,1)},e.prototype.op_add_foul_R=function(){this.addFoul(!1,1)},e.prototype.op_min_foul_L=function(){this.addFoul(!0,-1)},e.prototype.op_min_foul_R=function(){this.addFoul(!1,-1)},e=n([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../../api":"api","../../web":"web","../ww3/ww3_op":"ww3_op"}],rank0:[function(t,e,o){"use strict";cc._RF.push(e,"0ef6c2EQntE2ZWiHKG3AS7f","rank0");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../com/timer"),i=t("../../web"),_=t("../../api"),a=t("../../__c"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameTimer=new c.Timer,e.foulToFT=3,e}return r(e,t),e.prototype.onload=function(){this.gameTimer.initTimer(this,"txt_timer")},e.prototype.start=function(){this.gameTimer.isMin=!1,this.gameTimer.resetTimer(),this.initWS()},e.prototype.initWS=function(){var t=this,e=i.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(_.WSEvent.sc_setFoul,function(e){cc.log("sc_setFoul",e),t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul)}).on(_.WSEvent.sc_setPlayer,function(e){cc.log("sc_setPlayer",e),t.setPlayer(0,e.leftPlayer),t.setPlayer(1,e.rightPlayer),e.isRestFoul&&(t.setFoul_L(0),t.setFoul_R(0))})},e.prototype.setPlayer=function(t,e){cc.log("setPlayer",e);var o=t?"txt_player_right":"txt_player_left";if(a.setText(o,e.name),e.avatar){var r=t?"avt_R":"avt_L";i.loadImg64(r,e.avatar)}var n=t?"txt_hw_R":"txt_hw_L",c=e.height+"cm/"+e.weight+"kg";a.setText(n,c);var _=t?"txt_info_R":"txt_info_L",s=e.info;a.setText(_,s)},e.prototype.setFoul_L=function(t,e){e&&(this.foulToFT=e),a.setText("txt_foul_L",t);var o=t/this.foulToFT;this.setFoulBar(!1,o)},e.prototype.setFoulBar=function(t,e){var o=t?"foulBar_R":"foulBar_L";cc.log("setFoulBar",o,e),_c_.emit(a.ccType.ProgressBar,{name:o,progress:e,callbackMap:[[1,function(t){cc.log("on progress",t),t.getComponent(cc.Animation).play("foul_bar_max")}],[0,function(t){cc.log("on progress",t);var e=t.getComponent(cc.Animation);e.stop("foul_bar_max"),e.play("foul_bar_normal")}]]})},e.prototype.setFoul_R=function(t,e){e&&(this.foulToFT=e),a.setText("txt_foul_R",t);var o=t/this.foulToFT;this.setFoulBar(!0,o)},e=n([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../com/timer":"timer","../../web":"web"}],sideBlood:[function(t,e,o){"use strict";cc._RF.push(e,"7ea7dkIgDRKj50ytGxyseKm","sideBlood");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./SideBloodView"),i=cc._decorator,_=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){_c_.SideBloodView||(_c_.SideBloodView=new c.SideBloodView);for(var t=_c_.SideBloodView,e=0;e<5;e++){var o="side_blood_"+(e+1),r=this.node.getChildByName(o);if(r){t.add_side_row(o,r,e);break}}},e=n([_],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./SideBloodView":"SideBloodView"}],stats:[function(t,e,o){"use strict";cc._RF.push(e,"5c2997PfENMl4jjFmsCipdh","stats");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,_=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},n([_(cc.Label)],e.prototype,"label",void 0),n([_],e.prototype,"text",void 0),e=n([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],timer:[function(t,e,o){"use strict";cc._RF.push(e,"b9fb7MYUuxMiaVk49oMgwiX","timer"),Object.defineProperty(o,"__esModule",{value:!0});var r,n=t("../__c"),c=t("./JsFunc");o.TimerEvent={START:"start",PAUSE:"pause",TOGGLE:"toggle",SHIFT:"shift",RESET:"reset",SETTING:"setting"},o.TimerState={START_STR:"start",PAUSE_STR:"pause",PAUSE:0,RUNNING:1};var i=function(){function t(){this.timeInSec=1200,this.resetTime=0,this.isSecOnly=!1,this.isMin=!1}return t.prototype.initTimer=function(t,e){this._component=t,this._textName=e,this.resetTimer()},t.prototype.onTick=function(){this.isMin?this.timeInSec--:this.timeInSec++,this.timeInSec<0&&(this.timeInSec=0),n.setText(this._textName,c.formatSecond(this.timeInSec))},t.prototype.startTimer=function(){var t=this;r||(r=function(){t.onTick()},this._component.schedule(r,1,1/0))},t.prototype.pauseTimer=function(){r&&(this._component.unschedule(r),r=null)},t.prototype.setTimeBySec=function(t){(t=Number(t))<0&&(t=0),this.timeInSec=t,n.setText(this._textName,c.formatSecond(this.timeInSec,this.isSecOnly))},t.prototype.resetTimer=function(){this.timerState=o.TimerState.PAUSE,this.setTimeBySec(this.resetTime)},t.prototype.setTimerEvent=function(t){t.event==o.TimerEvent.PAUSE?this.pauseTimer():t.event==o.TimerEvent.START?this.startTimer():t.event==o.TimerEvent.RESET?(this.resetTimer(),this.pauseTimer()):t.event==o.TimerEvent.SETTING?this.setTimeBySec(t.param):t.event==o.TimerEvent.SHIFT?this.setTimeBySec(this.timeInSec+t.param):t.event==o.TimerEvent.TOGGLE&&this.toggleTimer()},t.prototype.toggleTimer=function(t){r?this.pauseTimer():this.startTimer()},t}();o.Timer=i,cc._RF.pop()},{"../__c":"__c","./JsFunc":"JsFunc"}],"vButton.ts":[function(t,e,o){"use strict";cc._RF.push(e,"178b3A40qNJCJoRGbiYLycP","vButton.ts");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ccVue"),i=cc._decorator,_=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){document.body,document.createElement("div");var t=c.getAppDiv();cc.log("app div",t)},e.prototype.start=function(){},e=n([_],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./ccVue":"ccVue"}],vButton:[function(t,e,o){"use strict";cc._RF.push(e,"14f9cSTMTxL2YWzJHRg1HLJ","vButton");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ccVue"),i=cc._decorator,_=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=c.getAppDiv();cc.log("app div",t);var e=this.node.convertToWorldSpaceAR(this.node.getPosition()),o=e.x,r=e.y,n=document.createElement("div");n.setAttribute("v-html","htmlData"),n.innerHTML='<input v-model="lScoreInput" class="input" type="text" style="width: 80px;top:'+r+" px;left:"+o+' px;">',t.appendChild(n)},e.prototype.start=function(){},e=n([_],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./ccVue":"ccVue"}],web:[function(t,e,o){"use strict";cc._RF.push(e,"fe7e54cytVMp4QLjboCqLbl","web"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("./__c");function n(){return"/rkb"}function c(t){return"/proxy?url="+t}o.getWsUrl=n,o.getWs=function(){return io("/rkb")},o.get_champion_rank_rec=function(t){var e=c("http://rtmp.icassi.us:8090/event?idx=1");axios.get(e).then(function(e){t(e.data)})},o.get_player=function(t,e){var o=c("http://rtmp.icassi.us:8090/player2?player_id="+t);axios.get(o).then(function(t){e(t.data)})},o.loadImg64=function(t,e){var o=c(e);axios.get(o).then(function(e){_c_.emit(r.ccType.Sprite,{name:t,img64:e.data})})},o.loadImg64ByNode=function(t,e){var o=c(e);axios.get(o).then(function(e){var o=new Image;o.src=e.data;var r=new cc.Texture2D;r.initWithElement(o),r.handleLoadedTexture();var n=new cc.SpriteFrame(r);t.spriteFrame=n})};var i={};o.loadImg64_InjectCls=function(t,e){var o=c(t);i[t]?e(i[t]):axios.get(o).then(function(o){i[t]=o.data,e(o.data)})};var _="http://rtmp.icassi.us:8090/";o.getPanelConf=function(t,e){var o=_+"panel/?pid="+t;axios.get(o).then(e)},o.opReq=function(t,e){var o="/panel/online/"+t;e._="_",axios({url:o,method:"post",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},cc._RF.pop()},{"./__c":"__c"}],worldwar3:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","worldwar3");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../api"),i=t("../../com/timer"),_=t("../../web"),a=t("../../__c"),s=t("./bloodBar"),l=t("./ww3_fx"),p=t("../../com/gameConf"),u=cc._decorator.ccclass;o._nm_={txt_team_score:"txt_team_score",txt_team_left:"txt_team_left",txt_team_right:"txt_team_right",txt_player_left:"txt_player_left",txt_player_right:"txt_player_right",txt_blood_L:"txt_blood_L",txt_blood_R:"txt_blood_R",txt_foul_L:"txt_foul_L",txt_foul_R:"txt_foul_R",sp_avt_L:"avt_L",sp_avt_R:"avt_R"};var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameTimer=new i.Timer,e.isLoadOP=!1,e.playerDocTotal=5,e.foulToFT=3,e}return r(e,t),e.prototype.onLoad=function(){this.id=(new Date).getTime().toString(),cc.log("onLoad Worldwar3,id:",this.id),this.gameTimer.initTimer(this,"txt_timer");var t=cc.find("op_layer"),e=cc.find("pageview"),o=cc.find("pageview/view/page_content");cc.log("op_layer",t,e),cc.log(o)},e.prototype.addOp=function(){this.isLoadOP||cc.loader.loadRes("prefab/op_ww3",cc.Prefab,function(t,e){cc.log("load op layer",e);var o=cc.instantiate(e);cc.director.getScene().addChild(o),this.isLoadOP=!0})},e.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_UP,function(t){console.log("Mouse down"),this.addOp()},this),window.isOP&&this.addOp(),cc.log("ww3 "),window.ww3=this,console.log("start worldwar3"),this.gameTimer.isMin=!1,this.gameTimer.resetTimer(),this.bloodBar_L=new s.BloodBar(0),this.bloodBar_R=new s.BloodBar(1),this.initState(),this.setFoul_L(0),this.setFoul_R(0),a.setText("txt_info_L",""),a.setText("txt_info_R",""),a.setText(o._nm_.txt_player_left,""),a.setText(o._nm_.txt_player_right,""),_c_.emit(a.ccType.Node,{name:"info_bg",active:!1}),a.setText(o._nm_.txt_team_score,"0 - 0"),this.initWS(),_c_.emit(a.ccType.Node,{name:"test_layer",active:!1})},e.prototype.test=function(){var t=this;setTimeout(function(){_.loadImg64(o._nm_.sp_avt_L,"http://rtmp.icassi.us:8092/img/player/0323/p1.png"),a.setText(o._nm_.txt_team_score,"0 - 0"),a.setText(o._nm_.txt_blood_L,"2"),a.setText(o._nm_.txt_player_left,"\u674e\u80dc\u4fca"),a.setText(o._nm_.txt_player_right,"\u9a6c\u514b"),t.setPlayerDot(1,3,!1),t.setPlayerDot(0,3,!0)},2e3)},e.prototype.setPlayerDot=function(t,e,o){var r="player_dot_off_"+(t?"R":"L"),n=this.playerDocTotal,c=o?"player_dot_on":"player_dot_off";function i(t,e){var o=r+e;setTimeout(function(){_c_.emit(a.ccType.Animation,{name:o,play:c})},t)}for(var _=0;_<n-e;_++){i(250*_,o?n-_:_+1)}},e.prototype.testPlayerDot=function(){var t=this;function e(t,e){setTimeout(function(){a.setText(o._nm_.txt_blood_L,e),a.setText(o._nm_.txt_blood_R,e)},t)}cc.log("testPlayerDot.."),this.setPlayerDot(1,2,!1);for(var r=0;r<11;r++)e(80*r,r);this.bloodBar_L.setBlood(9),this.bloodBar_R.setBlood(8);var n=function(e,o){setTimeout(function(){t.setFoul_L(o),t.setFoul_R(o),t.bloodBar_L.setBloodByDtScore(5),t.bloodBar_R.setBloodByDtScore(1)},e)};for(r=0;r<6;r++)n(280*r,r)},e.prototype.setFoul_L=function(t,e){e&&(this.foulToFT=e),a.setText(o._nm_.txt_foul_L,t);var r=t/this.foulToFT;this.setFoulBar(!1,r)},e.prototype.setFoul_R=function(t,e){e&&(this.foulToFT=e),a.setText(o._nm_.txt_foul_R,t);var r=t/this.foulToFT;this.setFoulBar(!0,r)},e.prototype.setFoulBar=function(t,e){var o=t?"foulBar_R":"foulBar_L";cc.log("setFoulBar",o,e),_c_.emit(a.ccType.ProgressBar,{name:o,progress:e,callbackMap:[[1,function(t){cc.log("on progress",t),t.getComponent(cc.Animation).play("foul_bar_max")}],[0,function(t){cc.log("on progress",t);var e=t.getComponent(cc.Animation);e.stop("foul_bar_max"),e.play("foul_bar_normal")}]]})},e.prototype.setBaseGame=function(t){this.setFoul_L(t.lFoul),this.setFoul_R(t.rFoul),this.bloodBar_L.setBloodByCurBlood(t.lBlood),this.bloodBar_R.setBloodByCurBlood(t.rBlood),this.gameTimer.setTimeBySec(t.curTimeInSec)},e.prototype.setPlayer=function(t,e){cc.log("setPlayer",e);var r=t?o._nm_.txt_player_right:o._nm_.txt_player_left;if(a.setText(r,e.name),e.avatar){var n=t?o._nm_.sp_avt_R:o._nm_.sp_avt_L;_.loadImg64(n,e.avatar)}null!=e.blood&&(t?this.bloodBar_R:this.bloodBar_L).setBlood(e.blood);var c=t?"txt_hw_R":"txt_hw_L",i=e.height+"cm/"+e.weight+"kg";a.setText(c,i);var s=t?"txt_info_R":"txt_info_L",l=e.info;a.setText(s,l)},e.prototype.initState=function(){var t=this;_.getPanelConf("ww3",function(e){var r=e.data[0];a.setText(o._nm_.txt_team_left,r.team_L),a.setText(o._nm_.txt_team_right,r.team_R);var n=Number(r.foul_hint);n>0&&(t.foulToFT=n);var c=Number(r.max_blood);c>0&&(p.confWW3.maxBlood=c,t.bloodBar_L.reset(),t.bloodBar_R.reset()),cc.log("get panel conf",e),cc.log("confWW3",p.confWW3)})},e.prototype._set_blood=function(t){for(var e=t.vsPlayerArr[0],o=t.vsPlayerArr[1],r=0,n=t.lTeam;r<n.length;r++){(_=n[r]).player_id==e&&this.bloodBar_L.setBloodByCurBlood(_.blood)}for(var c=0,i=t.rTeam;c<i.length;c++){var _;(_=i[c]).player_id==o&&this.bloodBar_R.setBloodByCurBlood(_.blood)}},e.prototype.initWS=function(){var t=this,e=_.getWsUrl();io(e).on("connect",function(t){cc.log("socketio.....localWS")}).on(c.WSEvent.sc_teamScore,function(t){cc.log("sc_teamScore",t),a.setText(o._nm_.txt_team_score,t.lScore+" - "+t.rScore)}).on(c.WSEvent.sc_timerEvent,function(e){cc.log("sc_timerEvent",e),t.gameTimer.setTimerEvent(e)}).on(c.WSEvent.sc_setFoul,function(e){cc.log("sc_setFoul",e),t.delay>0&&window.isDelay?setTimeout(function(){t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul)},t.delay):(t.setFoul_L(e.lFoul),t.setFoul_R(e.rFoul))}).on(c.WSEvent.sc_set_delay,function(e){cc.log("sc_set_delay",e),e.delay>=0&&(t.delay=1e3*e.delay)}).on(c.WSEvent.sc_manual_blood,function(e){cc.log("sc_manual_blood",e),t.delay>0&&window.isDelay?setTimeout(function(){t._set_blood(e)},t.delay):t._set_blood(e);var o=_c_.SideBloodView;o&&o.set_vs_player(e)}).on(c.WSEvent.sc_setBlood,function(e){if(cc.log("sc_setBlood",e),e.isSetBlood){var o=e.isR?t.bloodBar_R:t.bloodBar_L,r=e.isR?e.rBlood:e.lBlood;o.setBloodByCurBlood(r)}else{(o=!e.isLeft?t.bloodBar_L:t.bloodBar_R).setBloodByDtScore(e.score)}}).on(c.WSEvent.sc_setPlayer,function(e){cc.log("sc_setPlayer",e);var o=function(e){t.setPlayer(0,e.leftPlayer),t.setPlayer(1,e.rightPlayer),e.isRestFoul&&(t.setFoul_L(0),t.setFoul_R(0))};t.delay>0&&window.isDelay?setTimeout(function(){o(e)},t.delay):o(e);var r=_c_.SideBloodView;r&&r.set_player(e)}).on(c.WSEvent.sc_setPlayerDot,function(e){cc.log("sc_setPlayerDot",e);var o=e.playerDot_L,r=e.playerDot_R;e.isOn&&(o=t.playerDocTotal-o,r=t.playerDocTotal-r),t.setPlayerDot(0,o,e.isOn),t.setPlayerDot(1,r,e.isOn)}).on(c.WSEvent.sc_showWW3PlayerInfo,function(t){l.showPlayerInfo(t.visible,t.playerArr)}).on(c.WSEvent.sc_show_side_blood,function(t){cc.log("sc_show_side_blood",t);var e=_c_.SideBloodView;e&&e.show(t)}).on(c.WSEvent.sc_start_ww3_game,function(e){t.setFoul_L(0),t.setFoul_R(0),t.gameTimer.setTimerEvent({event:i.TimerEvent.RESET})}).on(c.WSEvent.sc_sync_game,function(e){cc.log("sc_sync_game",e),e.id!=t.id&&t.setBaseGame(e)})},e=n([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../__c":"__c","../../api":"api","../../com/gameConf":"gameConf","../../com/timer":"timer","../../web":"web","./bloodBar":"bloodBar","./ww3_fx":"ww3_fx"}],ww3_fx:[function(t,e,o){"use strict";cc._RF.push(e,"5a33ay9v/hOBKcYbmYzsKjU","ww3_fx"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../__c");function n(t,e,o){_c_.emit(e,{name:t,callback:function(t){o(cc.tween(t))}})}o.resetPlayerInfo=function(){},o.showPlayerInfo=function(t,e){t?(_c_.emit(r.ccType.Node,{name:"info_bg",active:!0}),_c_.emit(r.ccType.Node,{name:"front_panel",opacity:0}),_c_.emit(r.ccType.Node,{name:"team_bg",opacity:0}),_c_.emit(r.ccType.Label,{name:"txt_info_R",opacity:0}),_c_.emit(r.ccType.Label,{name:"txt_info_R",callback:function(t){cc.tween(t).to(.3,{opacity:255}).start()}}),n("txt_info_L",r.ccType.Label,function(t){t.to(0,{opacity:0}).to(.3,{opacity:255}).start()}),_c_.emit(r.ccType.Label,{name:"txt_hw_L",callback:function(t){cc.tween(t).to(0,{x:60}).to(.2,{x:198}).start()}}),_c_.emit(r.ccType.Label,{name:"txt_hw_R",callback:function(t){cc.tween(t).to(0,{x:-60}).to(.2,{x:-198}).start()}}),n("info_player_L",r.ccType.Node,function(t){t.to(0,{y:0}).to(.1,{y:55}).start()}),n("info_player_R",r.ccType.Node,function(t){t.to(0,{y:0}).to(.1,{y:55}).start()})):(_c_.emit(r.ccType.Node,{name:"info_bg",active:!1}),_c_.emit(r.ccType.Node,{name:"team_bg",opacity:255}),n("front_panel",r.ccType.Node,function(t){t.to(.2,{opacity:255}).start()}))},cc._RF.pop()},{"../../__c":"__c"}],ww3_op:[function(t,e,o){"use strict";cc._RF.push(e,"a71f9wt1QRH+7kT2xvMd5pd","ww3_op");var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../api"),i=t("../../com/timer"),_=t("../../web"),a=cc._decorator,s=a.ccclass,l=(a.property,function(){function t(){this.lScore=0,this.rScore=0,this.lBlood=0,this.rBlood=0,this.lFoul=0,this.rFoul=0,this.lName="",this.rName="",this.lPlayerId="",this.rPlayerId="",this.curTimeInSec=-1}return t.prototype.set_dt_lBlood=function(t){this.lBlood+=t,this.lBlood<0&&(this.lBlood=0)},t.prototype.set_dt_rBlood=function(t){this.rBlood+=t,this.rBlood<0&&(this.rBlood=0)},t.prototype.set_dt_rFoul=function(t){this.rFoul+=t,this.rFoul<0&&(this.rFoul=0)},t.prototype.set_dt_lFoul=function(t){this.lFoul+=t,this.lFoul<0&&(this.lFoul=0)},t}());o.BaseGame=l;var p=new l,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.op_start_game=function(){this._emit_start_ww3_game()},e.prototype.op_sync_game=function(){this._emit_sync_game()},e.prototype.op_foul_min_R=function(){this._emit_foul(!0,-1)},e.prototype.op_foul_min_L=function(){this._emit_foul(!1,-1)},e.prototype.op_foul_add_R=function(){this._emit_foul(!0,1)},e.prototype.op_foul_add_L=function(){this._emit_foul(!1,1)},e.prototype.op_blood_min_R=function(){this._emit_blood(!0,-1)},e.prototype.op_blood_min_L=function(){this._emit_blood(!1,-1)},e.prototype.op_blood_add_R=function(){this._emit_blood(!0,1)},e.prototype.op_blood_add_L=function(){this._emit_blood(!1,1)},e.prototype.op_set_timer=function(){if(/^([0-9]+[\-]?)|([0-9]+[\-]+[0-9])$/.test(this._set_time_val)){var t,e=this._set_time_val.split("-");2==e.length?t=60*Number(e[0])+Number(e[1]):Number(this._set_time_val)>-1&&(t=Number(this._set_time_val)),_.opReq(c.WSEvent.cs_timerEvent,{event:i.TimerEvent.SETTING,param:t})}},e.prototype.op_on_set_timer_changed=function(t){cc.log("op_on_set_timer_changed",t),this._set_time_val=t},e.prototype.op_start_timer=function(){_.opReq(c.WSEvent.cs_timerEvent,{event:i.TimerEvent.START})},e.prototype.op_pause_timer=function(){_.opReq(c.WSEvent.cs_timerEvent,{event:i.TimerEvent.PAUSE})},e.prototype._emit_foul=function(t,e){t?p.set_dt_rFoul(e):p.set_dt_lFoul(e),_.opReq(c.WSEvent.cs_setFoul,{lFoul:p.lFoul,rFoul:p.rFoul})},e.prototype._emit_sync_game=function(){var t=window.ww3;p.curTimeInSec=t.gameTimer.timeInSec,p.id=t.id,_.opReq(c.WSEvent.cs_sync_game,p)},e.prototype._emit_start_ww3_game=function(){_.opReq(c.WSEvent.cs_start_ww3_game,p)},e.prototype._emit_blood=function(t,e){t?p.set_dt_rBlood(e):p.set_dt_lBlood(e),_.opReq(c.WSEvent.cs_setBlood,{isSetBlood:!0,isR:t,lBlood:p.lBlood,rBlood:p.rBlood})},e=n([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../api":"api","../../com/timer":"timer","../../web":"web"}]},{},["__c","__clip","api","JsFunc","gameConf","timer","ccVue","vButton","vButton.ts","labelShadow","3v3","op_3v3","benxi","BBR_player_bar","big_blood_rock","big_score","bracket_16","bracket_16_group","group","group_list","group_list_group0","group_list_row","group_power","main","rank0","bloodBar","bottom_blood1","SideBloodView","sideBlood","SidePlayerView","stats","worldwar3","ww3_fx","ww3_op","web"]);